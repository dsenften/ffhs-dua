= Markdown-Linting Vorgehen
:author: Daniel Senften
:revdate: {docdate}
:toc: left
:toclevels: 3
:encoding: utf-8
:toc-title: Inhaltsverzeichnis
:source-highlighter: highlight.js
:icons: font
:numbered:

== Übersicht

Dieses Dokument beschreibt das standardisierte Vorgehen für Markdown-Linting im ALGS4-Projekt.

== Setup

=== Markdownlint installieren

[source,bash]
----
npm install -g markdownlint-cli
----

=== Konfigurationsdatei

Die Datei `.markdownlint.json` im Projektroot enthält die Linting-Regeln:

[source,json]
----
{
  "MD013": {
    "line_length": 120,
    "code_blocks": false,
    "tables": false
  },
  "MD033": false,
  "MD041": false
}
----

**Wichtige Regeln:**

- **MD013**: Maximale Zeilenlänge auf 120 Zeichen (Code-Blöcke und Tabellen ausgenommen)
- **MD033**: HTML-Tags erlaubt
- **MD041**: Erste Zeile muss nicht zwingend H1-Überschrift sein

== Verwendung

=== Alle Markdown-Dateien prüfen

[source,bash]
----
markdownlint README.md docs/**/*.md --config .markdownlint.json
----

=== Spezifische Dateien prüfen

[source,bash]
----
markdownlint README.md --config .markdownlint.json
----

=== Automatische Korrekturen

[source,bash]
----
markdownlint README.md --config .markdownlint.json --fix
----

== Häufige Linting-Fehler und Lösungen

=== MD013: Line too long

**Problem:** Zeile überschreitet 120 Zeichen

**Lösung:** Zeile umbrechen:

----
# Vorher
Dies ist eine sehr lange Zeile die definitiv mehr als 120 Zeichen hat und deshalb umgebrochen werden sollte.

# Nachher
Dies ist eine sehr lange Zeile die definitiv mehr als 120 Zeichen hat und deshalb umgebrochen
werden sollte.
----

=== MD031: Fenced code blocks should be surrounded by blank lines

**Problem:** Code-Blöcke ohne Leerzeilen

**Lösung:**

----
## Vorher
Text vor Code-Block
```bash
command
```

Text nach Code-Block

## Nachher

Text vor Code-Block

```bash
command
```

Text nach Code-Block

----

=== MD047: Files should end with a single newline character

**Problem:** Datei endet nicht mit Newline

**Lösung:**

[source,bash]
----
echo "" >> datei.md
----

=== MD009: No trailing spaces

**Problem:** Leerzeichen am Zeilenende

**Lösung:** Leerzeichen am Zeilenende entfernen (ausser für Zeilenumbrüche mit 2 Leerzeichen)

== Integration in Pre-commit Hooks

Fügen Sie Markdownlint zu `.pre-commit-config.yaml` hinzu:

[source,yaml]
----
repos:
  - repo: https://github.com/igorshubovych/markdownlint-cli
    rev: v0.37.0
    hooks:
      - id: markdownlint
        args: ['--config', '.markdownlint.json']
----

== Workflow

. **Vor Commit:** Markdown-Dateien prüfen
. **Fehler beheben:** Automatisch oder manuell
. **Validierung:** Erneut prüfen bis keine Fehler mehr vorhanden
. **Commit:** Saubere Markdown-Dateien committen

== Ausnahmen

Für spezielle Fälle können Regeln inline deaktiviert werden:

----
<!-- markdownlint-disable MD013 -->
Diese sehr lange Zeile wird nicht vom Linter überprüft weil sie eine spezielle Ausnahme darstellt.
<!-- markdownlint-enable MD013 -->
----

== Automatisierung

Für kontinuierliche Integration:

[source,bash]
----
# In CI/CD Pipeline
npm install -g markdownlint-cli
markdownlint docs/**/*.md README.md --config .markdownlint.json
----
